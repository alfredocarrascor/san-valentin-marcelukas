<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>San Valent√≠n üíñ</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background-color: #dba4a9;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .container {
      position: relative;
      width: 90vw;
      height: 85vh;
      text-align: center;
      color: white;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }

    p {
      font-size: 2rem;
      margin-bottom: 50px;
    }

    button {
      padding: 15px 35px;
      font-size: 1.2rem;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    #yesBtn {
      background-color: #ff4d6d;
      color: white;
      position: relative;
      z-index: 2;
    }

    #noBtn {
      background-color: #444;
      color: white;
      position: absolute;
      z-index: 1;
    }

    #gifContainer {
      display: none;
      margin-top: 30px;
    }

    #gifContainer img {
      width: 300px;
      border-radius: 20px;
    }
  </style>
</head>

<body>

  <div class="container">
    <h1 id="title">Marcelukas... üíñ</h1>
    <p id="message">¬øAceptar√≠as ser mi San Valent√≠n este a√±o?</p>

    <button id="yesBtn">Siiiiii üòç</button>
    <button id="noBtn">No.</button>

    <div id="gifContainer">
      <img src="https://media.tenor.com/2roX3uxz_68AAAAC/yippee-cat.gif" alt="Yipii Cat">
    </div>
  </div>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const container = document.querySelector(".container");
    const message = document.getElementById("message");
    const title = document.getElementById("title");
    const gifContainer = document.getElementById("gifContainer");

    let scale = 1;
    let noClickCount = 0;
    let allowOverlap = false;

    const messages = [
      "¬øSeguro? ü•∫",
      "Pi√©nsalo otra vez üò¢",
      "Vamosss üò≠",
      "No seas as√≠ üíî",
      "Ya no tienes opci√≥n üòà"
    ];

    function overlaps(rect1, rect2) {
      return !(
        rect1.right < rect2.left ||
        rect1.left > rect2.right ||
        rect1.bottom < rect2.top ||
        rect1.top > rect2.bottom
      );
    }

    function moveNoButton() {
      const containerRect = container.getBoundingClientRect();
      const yesRect = yesBtn.getBoundingClientRect();
      const messageRect = message.getBoundingClientRect();
      const titleRect = title.getBoundingClientRect();

      let newX, newY, noRect;
      let attempts = 0;

      do {
        newX = Math.random() * (containerRect.width - 120);
        newY = Math.random() * (containerRect.height - 60);

        noBtn.style.left = newX + "px";
        noBtn.style.top = newY + "px";

        noRect = noBtn.getBoundingClientRect();
        attempts++;

      } while (
        (
          (!allowOverlap && overlaps(noRect, yesRect)) ||
          overlaps(noRect, messageRect) ||
          overlaps(noRect, titleRect)
        ) && attempts < 300
      );
    }

    noBtn.addEventListener("click", () => {
      if (noClickCount < messages.length) {
        message.innerText = messages[noClickCount];
      }

      noClickCount++;

      if (noClickCount < 5) {
        scale += 0.6;
        yesBtn.style.transform = `scale(${scale})`;
        moveNoButton();
      } 
      else if (noClickCount === 5) {
        scale += 0.8;
        yesBtn.style.transform = `scale(${scale})`;
        allowOverlap = true;
        moveNoButton();
      } 
      else {
        noBtn.style.display = "none";
      }
    });

    yesBtn.addEventListener("click", () => {
      message.innerText = "Yipiiiii ü•≥üíñ";
      yesBtn.style.display = "none";
      noBtn.style.display = "none";
      gifContainer.style.display = "block";
    });

    moveNoButton();
  </script>

</body>
</html>
