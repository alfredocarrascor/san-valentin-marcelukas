<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Marcelukas üíò</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #ffdde1, #ee9ca7);
        font-family: Arial, sans-serif;
        text-align: center;
        position: relative;
    }

    .container {
        position: relative;
        z-index: 2;
    }

    h1 {
        font-size: 2rem;
        color: white;
        margin-bottom: 30px;
        transition: opacity 0.4s ease;
    }

    .button-area {
        position: relative;
        width: 400px;
        height: 220px;
        margin: 0 auto;
    }

    button {
        padding: 14px 28px;
        font-size: 1.2rem;
        border: none;
        border-radius: 14px;
        cursor: pointer;
        transition: transform 0.3s ease;
        position: absolute;
    }

    #yesBtn {
        background-color: #ff4d6d;
        color: white;
        left: 40px;
        top: 80px;
    }

    #noBtn {
        background-color: #444;
        color: white;
        right: 40px;
        top: 80px;
    }

    .heart {
        position: absolute;
        color: rgba(255,255,255,0.7);
        font-size: 22px;
        animation: floatUp 6s linear infinite;
    }

    @keyframes floatUp {
        0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
    }

    img {
        margin-top: 20px;
        max-width: 250px;
        border-radius: 12px;
    }

</style>
</head>
<body>

<div class="container" id="mainContainer">
    <h1 id="question">
        Marcelukas‚Ä¶ üíñ <br><br>
        ¬øAceptar√≠as ser mi San Valent√≠n este a√±o?
    </h1>

    <div class="button-area" id="buttonArea">
        <button id="yesBtn">S√çIIIIII üòç</button>
        <button id="noBtn">No.</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const container = document.getElementById("mainContainer");
const question = document.getElementById("question");
const area = document.getElementById("buttonArea");

let yesScale = 1;
let noClickCount = 0;

const noTexts = [
    "¬øSegura? ü•∫",
    "Piensalo otra vez‚Ä¶",
    "√öltima oportunidad üëÄ",
    "No seas as√≠ üò≠",
    "El destino ya decidi√≥ üíò",
    "Ya no tienes opci√≥n üòà"
];

// YES CLICK
yesBtn.addEventListener("click", () => {
    question.style.opacity = 0;

    setTimeout(() => {
        container.innerHTML = `
            <h1 style="color:white;">
                YIPIIIIIII üíñ‚ú® <br>
                Sab√≠a que dir√≠as que s√≠ üòå
            </h1>
            <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="Yipii Cat">
        `;

        confetti({
            particleCount: 300,
            spread: 140,
            origin: { y: 0.6 }
        });

    }, 400);
});

// NO CLICK
noBtn.addEventListener("click", () => {

    yesScale += 0.8;
    yesBtn.style.transform = `scale(${yesScale})`;

    if (noClickCount < noTexts.length) {
        noBtn.innerText = noTexts[noClickCount];
    }

    noClickCount++;

    moveNoButton();
});

function moveNoButton() {

    const areaRect = area.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();
    const noWidth = noBtn.offsetWidth;
    const noHeight = noBtn.offsetHeight;

    let tries = 0;
    let newX, newY;

    do {
        newX = Math.random() * (area.clientWidth - noWidth);
        newY = Math.random() * (area.clientHeight - noHeight);

        noBtn.style.left = newX + "px";
        noBtn.style.top = newY + "px";

        var noRect = noBtn.getBoundingClientRect();

        tries++;

    } while (
        noClickCount < 5 &&
        rectanglesOverlap(yesRect, noRect) &&
        tries < 50
    );
}

function rectanglesOverlap(r1, r2) {
    return !(
        r2.left > r1.right ||
        r2.right < r1.left ||
        r2.top > r1.bottom ||
        r2.bottom < r1.top
    );
}

// Floating hearts
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "üíñ";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (4 + Math.random() * 3) + "s";
    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 7000);
}

setInterval(createHeart, 400);

</script>

</body>
</html>
