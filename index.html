<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Marcelukas üíò</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        overflow: hidden;
        background: linear-gradient(135deg, #ffdde1, #ee9ca7);
        font-family: Arial, sans-serif;
        text-align: center;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    h1 {
        font-size: 2.2rem;
        color: white;
        margin-bottom: 40px;
        z-index: 2;
    }

    button {
        padding: 16px 32px;
        font-size: 1.3rem;
        border: none;
        border-radius: 16px;
        cursor: pointer;
        position: absolute;
        transition: transform 0.3s ease;
        z-index: 3;
    }

    #yesBtn {
        background-color: #ff4d6d;
        color: white;
    }

    #noBtn {
        background-color: #444;
        color: white;
    }

    .heart {
        position: absolute;
        color: rgba(255,255,255,0.7);
        font-size: 22px;
        animation: floatUp 6s linear infinite;
    }

    @keyframes floatUp {
        0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
    }

    img {
        margin-top: 20px;
        max-width: 250px;
        border-radius: 12px;
    }
</style>
</head>
<body>

<h1 id="question">
    Marcelukas‚Ä¶ üíñ <br><br>
    ¬øAceptar√≠as ser mi San Valent√≠n este a√±o?
</h1>

<button id="yesBtn">S√çIIIIII üòç</button>
<button id="noBtn">No.</button>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const question = document.getElementById("question");

let yesScale = 1;
let noClickCount = 0;

// Initial positions
yesBtn.style.left = "35%";
yesBtn.style.top = "60%";

noBtn.style.left = "55%";
noBtn.style.top = "60%";

const noTexts = [
    "¬øSegura? ü•∫",
    "Piensalo otra vez‚Ä¶",
    "√öltima oportunidad üëÄ",
    "No seas as√≠ üò≠",
    "El destino ya decidi√≥ üíò",
    "Ya no tienes opci√≥n üòà"
];

yesBtn.addEventListener("click", () => {
    document.body.innerHTML = `
        <h1 style="color:white; margin-top:20vh;">
            YIPIIIIIII üíñ‚ú® <br>
            Sab√≠a que dir√≠as que s√≠ üòå
        </h1>
        <div style="text-align:center;">
            <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
        </div>
    `;

    confetti({
        particleCount: 300,
        spread: 140,
        origin: { y: 0.6 }
    });
});

noBtn.addEventListener("click", () => {

    yesScale += 0.8;
    yesBtn.style.transform = `scale(${yesScale})`;

    if (noClickCount < noTexts.length) {
        noBtn.innerText = noTexts[noClickCount];
    }

    noClickCount++;

    moveNoButton();
});

function moveNoButton() {

    let tries = 0;
    let newX, newY;

    do {
        newX = Math.random() * (window.innerWidth - noBtn.offsetWidth);
        newY = Math.random() * (window.innerHeight - noBtn.offsetHeight);

        noBtn.style.left = newX + "px";
        noBtn.style.top = newY + "px";

        var noRect = noBtn.getBoundingClientRect();
        var yesRect = yesBtn.getBoundingClientRect();

        tries++;

    } while (
        noClickCount < 5 &&
        rectanglesOverlap(yesRect, noRect) &&
        tries < 100
    );
}

function rectanglesOverlap(r1, r2) {
    return !(
        r2.left > r1.right ||
        r2.right < r1.left ||
        r2.top > r1.bottom ||
        r2.bottom < r1.top
    );
}

// Floating hearts
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "üíñ";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (4 + Math.random() * 3) + "s";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 7000);
}

setInterval(createHeart, 400);

</script>

</body>
</html>
